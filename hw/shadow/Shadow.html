<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Bunny shadow</title>
  </head>

  <body onload="main()">
    <canvas id="comp_graphics_hw">
      Please use a browser that supports "canvas"
    </canvas>


    <div id="uiContainer">
      <div id="ui">
        <div id="fRotation"></div>
      </div>
    </div>


    <!-- phong shaders -->
    <script id="phong-v-shader" type="x-shader/x-vertex">#version 300 es
    in vec3 VertexPosition;
    in vec3 VertexNormal;

    out vec3 Position;
    out vec3 Normal;

    uniform mat4 ModelViewMatrix;
    uniform mat3 NormalMatrix;
    uniform mat4 MVP;

    void main() {
        Normal = normalize( NormalMatrix * VertexNormal);
        Position = vec3( ModelViewMatrix * vec4(VertexPosition,1.0) );
        gl_Position = MVP * vec4(VertexPosition,1.0);
    }
    </script>

    <script id="phong-f-shader" type="x-shader/x-fragment">#version 300 es
    precision mediump float;

    in vec3 Position;
    in vec3 Normal;

    uniform vec4 LightPosition;
    uniform vec3 LightIntensity;

    uniform vec3 Kd;            // Diffuse reflectivity
    uniform vec3 Ka;            // Ambient reflectivity
    uniform vec3 Ks;            // Specular reflectivity
    uniform float Shininess;    // Specular shininess factor

    out vec4 FragColor;

    vec3 ads( )
    {
        vec3 n = normalize(Normal);
        vec3 s = normalize( vec3(LightPosition) - Position );
        vec3 v = normalize(vec3(-Position));
        vec3 r = reflect( -s, n );

        return
            LightIntensity * ( Ka +
              Kd * max( dot(s, n), 0.0 ) +
              Ks * pow( max( dot(r,v), 0.0 ), Shininess ) );
    }

    void main() {
        FragColor = vec4(ads(), 1.0);
    }
    </script>




    <!-- Three.js library -->
    <script src="../lib/three.min.js"></script>
    <script src="../lib/OBJLoader.js"></script>

     <!-- webglfundamentals library -->
    <script src="../lib/webgl-utils.js"></script>
    <script src="../lib/webgl-lessons-ui.js"></script>
    <script src="../lib/twgl-full.js"></script>

    <script src="data/obj.js"></script>

     <!-- self code -->
    <script src="Shadow.js"></script>
    <link rel="stylesheet" href="css/style.css">
  </body>
</html>
